<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Geolocation</title>
<meta name="viewport" content="user-scalable=yes, width=device-width" />
<link rel="stylesheet" href="../style.css" type="text/css" media="screen" />
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.3/jquery.min.js"></script>
<script>
$(window).ready(function() {
	$("#maplink").hide();
	if (typeof(navigator.geolocation)!="undefined") {
		navigator.geolocation.getCurrentPosition(GotPosition, ErrorPosition);
	}
	else {
		$("#lat,#long").text("Not supported");
	}
});

function GotPosition(pos) {
	$("#lat").text(pos.coords.latitude);
	$("#long").text(pos.coords.longitude);
	$("#maplink").attr("href", "http://maps.google.com/maps?q=" + pos.coords.latitude + "," + pos.coords.longitude).fadeIn();
}

function ErrorPosition(msg) {
	$("#lat,#long").text(msg);
}
</script>
</head>
<body>
	<h1>Geolocation <a href="index.html">Back</a></h1>
	<dl>
		<dt>Your position</dt>
		<dd>
			<p>Latitude: <span id="lat"></span></p>
			<p>Longitude: <span id="long"></span></p>
			<p><a id="maplink" href="#">Go to Google Maps</a></p>
		</dd>
	</dl>
</body>
</html>
